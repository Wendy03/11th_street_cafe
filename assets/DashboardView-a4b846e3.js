import{_ as h,R as v,r as i,o as u,c as p,a as t,b as s,w as c,d as r,n as k,h as b,A,e as x,F as T}from"./index-d89487d8.js";import{T as f}from"./Toast-1523fbae.js";const V={data(){return{}},components:{RouterLink:v},methods:{logout(){document.cookie="hexToken=; expires=; path=/",this.$router.push("/")}}},R={class:"navbar navbar-expand navbar-dark bg-black px-3"},g={class:"ms-auto"};function w(n,o,d,a,l,_){const e=i("RouterLink");return u(),p("div",null,[t("nav",R,[s(e,{to:"/",class:"navbar-brand fs-1 logo"},{default:c(()=>[r("11 街咖啡")]),_:1}),t("div",g,[t("button",{type:"button",class:"btn btn-secondary btn-sm rounded",onClick:o[0]||(o[0]=k((...m)=>_.logout&&_.logout(...m),["prevent"]))}," 登出 ")])])])}const E=h(V,[["render",w]]),N={data(){return{}},components:{RouterLink:v}},L={class:"mt-5"},B={class:"nav nav-tabs"},I={class:"nav-item"},P={class:"nav-item"},y={class:"nav-item"},C={class:"nav-item"};function D(n,o,d,a,l,_){const e=i("RouterLink");return u(),p("div",L,[t("ul",B,[t("li",I,[s(e,{to:"/admin/products",class:"nav-link"},{default:c(()=>[r(" 產品管理 ")]),_:1})]),t("li",P,[s(e,{to:"/admin/orders",class:"nav-link"},{default:c(()=>[r(" 訂單管理 ")]),_:1})]),t("li",y,[s(e,{to:"/admin/coupons",class:"nav-link"},{default:c(()=>[r(" 優惠卷管理 ")]),_:1})]),t("li",C,[s(e,{to:"/admin/articles",class:"nav-link"},{default:c(()=>[r(" 文章管理 ")]),_:1})])])])}const M=h(N,[["render",D]]),{VITE_API:F}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/11th_street_cafe/",MODE:"production",DEV:!1,PROD:!0},O={data(){return{isAuth:!1}},components:{RouterView:b,AdminNavbar:E,AdminTabs:M},methods:{checkAdmin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n?(this.$http.defaults.headers.common.Authorization=n,this.$http.post(`${F}/api/user/check`).then(()=>{this.isAuth=!0}).catch(o=>{var a;const d=((a=o.data)==null?void 0:a.message)||"沒有權限，請登入";this.isProcessing=!1,f.fire({title:`${d}`,icon:"error"})})):(f.fire({title:"請先登入",icon:"error"}),this.$router.push("/login"))}},mounted(){this.checkAdmin()}},z={class:"container py-3"};function H(n,o,d,a,l,_){const e=i("AdminNavbar"),m=i("AdminTabs"),$=i("RouterView");return u(),p(T,null,[s(e),t("div",z,[s(m),l.isAuth?(u(),A($,{key:0})):x("",!0)])],64)}const j=h(O,[["render",H]]);export{j as default};
