import{p as m,f as $}from"./productsStore-5b8d348d.js";import{m as c,e as a,_ as p,o as s,c as r,a as e,F as y,n as v,p as P,k,t as n,r as l,b as _,w as L,q as S,f as V,d as F}from"./index-bd2d9a99.js";import{c as I}from"./cartStore-cde16ae6.js";import{s as C}from"./statusStore-50e0417f.js";import"./Toast-e4eec407.js";const N={data(){return{}},methods:{...c(m,["changeCategory"])},computed:{...a(m,["categories","filterCategory"])}},z={class:"col-lg-2 col-md-3 mb-2 my-5"},B={class:"list-group sticky-top top-15"},T=["onClick"];function x(t,d,g,h,f,b){return s(),r("div",z,[e("ul",B,[(s(!0),r(y,null,v(t.categories,i=>(s(),r("li",{class:P(["list-group-item",{active:i===t.filterCategory}]),style:{cursor:"pointer"},key:i,onClick:k(o=>t.changeCategory(i),["prevent"])},n(i),11,T))),128))])])}const U=p(N,[["render",x]]),q={data(){return{}},methods:{...c(m,["getProducts"]),...c($,["getFollows","toggleFollow"]),...c(I,["addToCart"])},computed:{...a(m,["products","filterProducts"]),...a($,["followIds"]),...a(C,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},A={class:"col-lg-10 col-md-9 my-5"},D={class:"row"},E={class:"card border-0 shadow-sm h-100"},M=["onClick"],O={key:0,class:"bi bi-heart text-danger shadow-sm p-1 bg-body rounded rounded-circle"},j={key:1,class:"bi bi-heart-fill text-danger shadow-sm p-1 bg-body rounded rounded-circle"},G={class:"card-body"},H={class:"badge bg-primary float-right ml-2"},J={class:"card-title"},K={href:"#",class:"text-dark"},Q={class:"card-text"},R={class:"text-right pr-2"},W={class:"card-footer d-grid gap-2 border-top-0"},X=["disabled","onClick"],Y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Z(t,d,g,h,f,b){const i=l("router-link");return s(),r("div",A,[e("div",D,[(s(!0),r(y,null,v(t.filterProducts,o=>(s(),r("div",{class:"col-lg-4 col-md-6 mb-3 mb-4",key:o.id},[e("div",E,[_(i,{to:`/product/${o.id}`},{default:L(()=>[e("div",{style:S([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}])},null,4)]),_:2},1032,["to"]),e("div",{class:"position-absolute heart-icon mt-1",style:{cursor:"pointer"},onClick:k(u=>t.toggleFollow(o.id),["prevent"])},[t.followIds.indexOf(o.id)===-1?(s(),r("i",O)):(s(),r("i",j))],8,M),e("div",G,[e("span",H,n(o.category),1),e("h5",J,[e("a",K,n(o.title),1)]),e("p",Q,n(o.description),1),e("div",R,n(t.$filters.currency(o.price))+" 元 ",1)]),e("div",W,[e("button",{type:"button",class:"btn btn-primary",disabled:t.isProcessing,onClick:u=>t.addToCart(o.id)},[o.id===t.loadingItem?(s(),r("span",Y)):V("",!0),F(" 加到購物車 ")],8,X)])])]))),128))])])}const tt=p(q,[["render",Z]]),ot={data(){return{}},components:{ProductCategory:U,ProductList:tt},computed:{...a(C,["isLoading"])}},et={class:"container my-9"},st={class:"row"};function rt(t,d,g,h,f,b){const i=l("VueLoading"),o=l("ProductCategory"),u=l("ProductList");return s(),r("div",et,[_(i,{active:t.isLoading,"onUpdate:active":d[0]||(d[0]=w=>t.isLoading=w)},null,8,["active"]),e("div",st,[_(o),_(u)])])}const lt=p(ot,[["render",rt]]);export{lt as default};
