import{T as f}from"./Toast-612bdcef.js";import{_ as m,r as i,o as l,c as p,a as t,b as s,w as r,d as c,k as $,x as k,f as b,F as A}from"./index-1d8dff61.js";const x={data(){return{}},methods:{logout(){document.cookie="hexToken=; expires=; path=/",this.$router.push("/")}}},T={class:"navbar navbar-expand navbar-dark bg-dark px-3"},g={class:"ms-auto"};function V(n,o,d,a,u,_){const e=i("router-link");return l(),p("div",null,[t("nav",T,[s(e,{to:"/",class:"navbar-brand fs-1 logo"},{default:r(()=>[c("11 街咖啡")]),_:1}),t("div",g,[t("button",{class:"btn btn-secondary btn-sm rounded",onClick:o[0]||(o[0]=$((...h)=>_.logout&&_.logout(...h),["prevent"]))}," 登出 ")])])])}const E=m(x,[["render",V]]),N={data(){return{}}},w={class:"mt-5"},B={class:"nav nav-tabs"},I={class:"nav-item"},P={class:"nav-item"},C={class:"nav-item"},D={class:"nav-item"};function y(n,o,d,a,u,_){const e=i("router-link");return l(),p("div",w,[t("ul",B,[t("li",I,[s(e,{to:"/admin/products",class:"nav-link"},{default:r(()=>[c("產品管理")]),_:1})]),t("li",P,[s(e,{to:"/admin/orders",class:"nav-link"},{default:r(()=>[c("訂單管理")]),_:1})]),t("li",C,[s(e,{to:"/admin/coupons",class:"nav-link",href:"#"},{default:r(()=>[c("優惠卷管理")]),_:1})]),t("li",D,[s(e,{to:"/admin/articles",class:"nav-link",href:"#"},{default:r(()=>[c("文章管理")]),_:1})])])])}const M=m(N,[["render",y]]),{VITE_API:F}={VITE_API:"https://vue3-course-api.hexschool.io/v2",VITE_PATH:"coffee11",BASE_URL:"/11th_street_cafe/",MODE:"production",DEV:!1,PROD:!0},O={data(){return{isAuth:!1}},components:{AdminNavbar:E,AdminTabs:M},methods:{checkAdmin(){const n=document.cookie.replace(/(?:(?:^|.*;\s*)hexToken\s*=\s*([^;]*).*$)|^.*$/,"$1");n?(this.$http.defaults.headers.common.Authorization=n,this.$http.post(`${F}/api/user/check`).then(()=>{this.isAuth=!0}).catch(o=>{var a;const d=((a=o.data)==null?void 0:a.message)||"沒有權限，請登入";this.isProcessing=!1,f.fire({title:`${d}`,icon:"error"})})):(f.fire({title:"請先登入",icon:"error"}),this.$router.push("/login"))}},mounted(){this.checkAdmin()}},R={class:"container py-3"};function z(n,o,d,a,u,_){const e=i("AdminNavbar"),h=i("AdminTabs"),v=i("router-view");return l(),p(A,null,[s(e),t("div",R,[s(h),u.isAuth?(l(),k(v,{key:0})):b("",!0)])],64)}const S=m(O,[["render",z]]);export{S as default};
