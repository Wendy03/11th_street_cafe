import{p as u,f as b}from"./productsStore-5c3addec.js";import{m as l,f as i,_ as m,o as e,c as r,a as s,F as v,s as y,u as P,n as C,t as n,R as S,r as p,b as d,w as k,x as V,e as x,d as F}from"./index-27629a89.js";import{c as I}from"./cartStore-3ee6b5d3.js";import{s as w}from"./statusStore-b6cb4865.js";import"./Toast-332399e3.js";const N={data(){return{}},methods:{...l(u,["changeCategory"])},computed:{...i(u,["categories","filterCategory"])}},R={class:"col-lg-2 col-md-3 mb-2"},T={class:"list-group sticky-top top-15"},z=["onClick"];function B(o,c,g,h,f,$){return e(),r("div",R,[s("ul",T,[(e(!0),r(v,null,y(o.categories,a=>(e(),r("li",{class:P(["list-group-item",{active:a===o.filterCategory}]),style:{cursor:"pointer"},key:a,onClick:C(t=>o.changeCategory(a),["prevent"])},n(a),11,z))),128))])])}const U=m(N,[["render",B]]),A={data(){return{}},components:{RouterLink:S},methods:{...l(u,["getProducts"]),...l(b,["getFollows","toggleFollow"]),...l(I,["addToCart"])},computed:{...i(u,["products","filterProducts"]),...i(b,["followIds"]),...i(w,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},D={class:"col-lg-10 col-md-9"},E={class:"row"},M={class:"card border-0 shadow-sm h-100 card--hover"},O=["onClick"],j={key:0,class:"bi bi-heart text-danger shadow-sm p-1 bg-secondary"},q={key:1,class:"bi bi-heart-fill text-danger shadow-sm p-1 bg-secondary"},G={class:"card-body"},H={class:"badge bg-primary rounded-pill fw-normal float-right ml-2 mb-2"},J={class:"card-title text-dark"},K={class:"card-text text-black"},Q={class:"text-end text-dark fs-5 pr-2"},W={class:"card-footer d-grid gap-2 border-top-0 px-0 py-0"},X=["disabled","onClick"],Y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Z(o,c,g,h,f,$){const a=p("RouterLink");return e(),r("div",D,[s("div",E,[(e(!0),r(v,null,y(o.filterProducts,t=>(e(),r("div",{class:"col-lg-4 col-md-6 mb-6",key:t.id},[s("div",M,[d(a,{to:`/product/${t.id}`},{default:k(()=>[s("div",{style:V([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),_:2},1032,["to"]),s("div",{class:"position-absolute heart-icon mt-1 ps-1",style:{cursor:"pointer"},onClick:C(_=>o.toggleFollow(t.id),["prevent"])},[o.followIds.indexOf(t.id)===-1?(e(),r("i",j)):(e(),r("i",q))],8,O),s("div",G,[d(a,{to:`/product/${t.id}`},{default:k(()=>[s("span",H,n(t.category),1),s("h5",J,n(t.title),1),s("p",K,n(t.description),1),s("div",Q," NT$ "+n(o.$filters.currency(t.price))+" 元 ",1)]),_:2},1032,["to"])]),s("div",W,[s("button",{type:"button",class:"btn btn-dark",disabled:o.isProcessing,onClick:_=>o.addToCart(t.id)},[t.id===o.loadingItem?(e(),r("span",Y)):x("",!0),F(" 加到購物車 ")],8,X)])])]))),128))])])}const tt=m(A,[["render",Z]]),ot={data(){return{}},components:{ProductCategory:U,ProductList:tt},computed:{...i(w,["isLoading"])}},st={class:"container py-6"},et={class:"row"};function rt(o,c,g,h,f,$){const a=p("VueLoading"),t=p("ProductCategory"),_=p("ProductList");return e(),r("div",st,[d(a,{active:o.isLoading,"onUpdate:active":c[0]||(c[0]=L=>o.isLoading=L)},null,8,["active"]),s("div",et,[d(t),d(_)])])}const lt=m(ot,[["render",rt]]);export{lt as default};
