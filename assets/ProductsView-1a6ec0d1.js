import{p,f as $}from"./productsStore-e9c36489.js";import{m as d,e as n,_ as u,o as e,c as r,a as s,F as y,p as v,q as L,l as k,t as a,R as P,r as l,b as m,w as S,s as V,g as F,d as I}from"./index-26d26e98.js";import{c as N}from"./cartStore-62e4ae02.js";import{s as C}from"./statusStore-d8eb7628.js";import"./Toast-37648567.js";const R={data(){return{}},methods:{...d(p,["changeCategory"])},computed:{...n(p,["categories","filterCategory"])}},z={class:"col-lg-2 col-md-3 mb-2 my-5"},B={class:"list-group sticky-top top-15"},T=["onClick"];function x(t,c,g,h,f,b){return e(),r("div",z,[s("ul",B,[(e(!0),r(y,null,v(t.categories,i=>(e(),r("li",{class:L(["list-group-item",{active:i===t.filterCategory}]),style:{cursor:"pointer"},key:i,onClick:k(o=>t.changeCategory(i),["prevent"])},a(i),11,T))),128))])])}const U=u(R,[["render",x]]),q={data(){return{}},components:{RouterLink:P},methods:{...d(p,["getProducts"]),...d($,["getFollows","toggleFollow"]),...d(N,["addToCart"])},computed:{...n(p,["products","filterProducts"]),...n($,["followIds"]),...n(C,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},A={class:"col-lg-10 col-md-9 my-5"},D={class:"row"},E={class:"card border-0 shadow-sm h-100"},M=["onClick"],O={key:0,class:"bi bi-heart text-danger shadow-sm p-1 bg-secondary"},j={key:1,class:"bi bi-heart-fill text-danger shadow-sm p-1 bg-secondary"},G={class:"card-body"},H={class:"badge bg-primary float-right ml-2"},J={class:"card-title"},K={href:"#",class:"text-dark"},Q={class:"card-text"},W={class:"text-right pr-2"},X={class:"card-footer d-grid gap-2 border-top-0"},Y=["disabled","onClick"],Z={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function tt(t,c,g,h,f,b){const i=l("RouterLink");return e(),r("div",A,[s("div",D,[(e(!0),r(y,null,v(t.filterProducts,o=>(e(),r("div",{class:"col-lg-4 col-md-6 mb-3 mb-4",key:o.id},[s("div",E,[m(i,{to:`/product/${o.id}`},{default:S(()=>[s("div",{style:V([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}])},null,4)]),_:2},1032,["to"]),s("div",{class:"position-absolute heart-icon mt-1 ps-1",style:{cursor:"pointer"},onClick:k(_=>t.toggleFollow(o.id),["prevent"])},[t.followIds.indexOf(o.id)===-1?(e(),r("i",O)):(e(),r("i",j))],8,M),s("div",G,[s("span",H,a(o.category),1),s("h5",J,[s("a",K,a(o.title),1)]),s("p",Q,a(o.description),1),s("div",W,a(t.$filters.currency(o.price))+" 元 ",1)]),s("div",X,[s("button",{type:"button",class:"btn btn-primary",disabled:t.isProcessing,onClick:_=>t.addToCart(o.id)},[o.id===t.loadingItem?(e(),r("span",Z)):F("",!0),I(" 加到購物車 ")],8,Y)])])]))),128))])])}const ot=u(q,[["render",tt]]),st={data(){return{}},components:{ProductCategory:U,ProductList:ot},computed:{...n(C,["isLoading"])}},et={class:"container my-9"},rt={class:"row"};function it(t,c,g,h,f,b){const i=l("VueLoading"),o=l("ProductCategory"),_=l("ProductList");return e(),r("div",et,[m(i,{active:t.isLoading,"onUpdate:active":c[0]||(c[0]=w=>t.isLoading=w)},null,8,["active"]),s("div",rt,[m(o),m(_)])])}const mt=u(st,[["render",it]]);export{mt as default};
