import{p as m,f as $}from"./productsStore-d358b310.js";import{m as c,e as a,_ as p,o as e,c as r,a as s,F as y,n as v,p as P,k,t as n,r as l,b as _,w as L,q as S,f as V,d as F}from"./index-c980d51e.js";import{c as I}from"./cartStore-2e425333.js";import{s as C}from"./statusStore-eaf652a6.js";import"./Toast-1f5836ad.js";const N={data(){return{}},methods:{...c(m,["changeCategory"])},computed:{...a(m,["categories","filterCategory"])}},z={class:"col-lg-2 col-md-3 mb-2 my-5"},B={class:"list-group sticky-top top-15"},T=["onClick"];function x(t,d,g,h,f,b){return e(),r("div",z,[s("ul",B,[(e(!0),r(y,null,v(t.categories,i=>(e(),r("li",{class:P(["list-group-item",{active:i===t.filterCategory}]),style:{cursor:"pointer"},key:i,onClick:k(o=>t.changeCategory(i),["prevent"])},n(i),11,T))),128))])])}const U=p(N,[["render",x]]),q={data(){return{}},methods:{...c(m,["getProducts"]),...c($,["getFollows","toggleFollow"]),...c(I,["addToCart"])},computed:{...a(m,["products","filterProducts"]),...a($,["followIds"]),...a(C,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},A={class:"col-lg-10 col-md-9 my-5"},D={class:"row"},E={class:"card border-0 shadow-sm h-100"},M=["onClick"],O={key:0,class:"bi bi-heart text-danger shadow-sm p-1 bg-body rounded rounded-circle"},j={key:1,class:"bi bi-heart-fill text-danger shadow-sm p-1 bg-body rounded rounded-circle"},G={class:"card-body"},H={class:"badge bg-primary float-right ml-2"},J={class:"card-title"},K={href:"#",class:"text-dark"},Q={class:"card-text"},R={class:"text-right pr-2"},W={class:"card-footer d-grid gap-2 border-top-0"},X=["disabled","onClick"],Y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Z(t,d,g,h,f,b){const i=l("router-link");return e(),r("div",A,[s("div",D,[(e(!0),r(y,null,v(t.filterProducts,o=>(e(),r("div",{class:"col-md-4 col-sm-6 mb-3 mb-4",key:o.id},[s("div",E,[_(i,{to:`/product/${o.id}`},{default:L(()=>[s("div",{style:S([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${o.imageUrl})`}])},null,4)]),_:2},1032,["to"]),s("div",{class:"position-absolute heart-icon mt-1",style:{cursor:"pointer"},onClick:k(u=>t.toggleFollow(o.id),["prevent"])},[t.followIds.indexOf(o.id)===-1?(e(),r("i",O)):(e(),r("i",j))],8,M),s("div",G,[s("span",H,n(o.category),1),s("h5",J,[s("a",K,n(o.title),1)]),s("p",Q,n(o.description),1),s("div",R,n(t.$filters.currency(o.price))+" 元 ",1)]),s("div",W,[s("button",{type:"button",class:"btn btn-primary",disabled:t.isProcessing,onClick:u=>t.addToCart(o.id)},[o.id===t.loadingItem?(e(),r("span",Y)):V("",!0),F(" 加到購物車 ")],8,X)])])]))),128))])])}const tt=p(q,[["render",Z]]),ot={data(){return{}},components:{ProductCategory:U,ProductList:tt},computed:{...a(C,["isLoading"])}},st={class:"container my-9"},et={class:"row"};function rt(t,d,g,h,f,b){const i=l("VueLoading"),o=l("ProductCategory"),u=l("ProductList");return e(),r("div",st,[_(i,{active:t.isLoading,"onUpdate:active":d[0]||(d[0]=w=>t.isLoading=w)},null,8,["active"]),s("div",et,[_(o),_(u)])])}const lt=p(ot,[["render",rt]]);export{lt as default};
