import{H as $}from"./HomeCategory-20f69b4d.js";import{c as h}from"./cartStore-dcaae850.js";import{s as N}from"./statusStore-137b6f7c.js";import{R as L,m as q,f,_ as y,r as p,o,c as n,a as t,n as c,F as g,s as S,x as V,t as r,b as i,w as l,d as _,e as j,q as A}from"./index-a57b5fb5.js";import"./productsStore-16b6892f.js";import"./Toast-609b5a99.js";const H={data(){return{}},components:{RouterLink:L,HomeCategory:$},methods:{...q(h,["getCarts","updateCart","removeCartItem","deleteAllCarts"])},computed:{...f(h,["cart"]),...f(N,["isProcessing"])},mounted(){this.getCarts()}},R={class:"col-md-6"},T={key:0},z=A('<nav aria-label="breadcrumb mt-5"><ol class="breadcrumb"><li class="breadcrumb-item text-dark active" aria-current="page">購物車</li><li class="breadcrumb-item text-gray">訂單資訊</li><li class="breadcrumb-item text-gray">結帳</li></ol></nav>',1),B={class:"d-flex justify-content-between mb-5"},I=t("h2",{class:"mt-2 text-brown font-weight-bold"},"購物車",-1),P=t("i",{class:"bi bi-x-lg text-dark"},null,-1),E=[P],F={class:"w-100 p-3 position-relative"},D=["onClick"],M=t("i",{class:"bi bi-x-lg text-dark"},null,-1),U=[M],G={class:"mb-0 fw-bold"},J={class:"d-md-block d-none mb-1 text-muted",style:{"font-size":"14px"}},K={class:"d-flex flex-md-row flex-column justify-content-md-between align-items-md-center w-100"},O={class:"input-group align-items-center"},Q={class:"input-group-prepend pe-1"},W=["onClick","disabled"],X=t("i",{class:"bi bi-dash-lg"},null,-1),Y=[X],Z=["value"],tt={class:"input-group-append ps-1"},st=["onClick","disabled"],et=t("i",{class:"bi bi-plus"},null,-1),ot=[et],nt={class:"mb-0 text-end ms-md-6"},at={class:"table mt-4 text-muted"},rt=t("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"}," 小計 ",-1),it={class:"text-end border-0 px-0 pt-0"},ct={class:"d-flex justify-content-between mt-4"},dt=t("p",{class:"mb-0 h4 fw-bold"},"總計",-1),lt={class:"mb-0 h4 fw-bold"},_t={class:"d-flex mt-4 justify-content-between align-items-md-center align-items-end w-100"},pt=t("i",{class:"bi bi-caret-left-fill"},null,-1),ut={key:1},mt=t("h2",{class:"mt-5 fs-2"},"購物車目前是空的，快來挑選商品吧！",-1),bt=t("i",{class:"bi bi-cart"},null,-1),ht={key:0,class:"mt-5"};function ft(e,d,v,x,k,C){var u,m;const a=p("RouterLink"),w=p("HomeCategory");return o(),n(g,null,[t("div",R,[(u=e.cart.carts)!=null&&u.length?(o(),n("div",T,[z,t("div",B,[I,t("a",{href:"#",class:"fs-3",onClick:d[0]||(d[0]=c((...s)=>e.deleteAllCarts&&e.deleteAllCarts(...s),["prevent"]))},E)]),(o(!0),n(g,null,S(e.cart.carts,s=>(o(),n("div",{key:s.id,class:"d-flex mt-4 bg-light"},[t("div",{style:V([{width:"130px","max-height":"130px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${s.product.imageUrl})`}]),class:"rounded-0"},null,4),t("div",F,[t("a",{href:"#",onClick:c(b=>e.removeCartItem(s.id),["prevent"]),class:"position-absolute",style:{top:"16px",right:"16px"}},U,8,D),t("p",G,r(s.product.title),1),t("p",J,r(s.product.description),1),t("div",K,[t("div",O,[t("div",Q,[t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:c(b=>e.updateCart(s,s.qty-1),["prevent"]),disabled:e.isProcessing||s.qty===1},Y,8,W)]),t("input",{type:"text",class:"form-control form-control-sm border-0 text-center my-auto shadow-none bg-secondary px-0",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",readonly:"",value:s.qty},null,8,Z),t("div",tt,[t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:c(b=>e.updateCart(s,s.qty+1),["prevent"]),disabled:e.isProcessing||s.qty===5},ot,8,st)])]),t("p",nt,"NT$"+r(s.total),1)])])]))),128)),t("table",at,[t("tbody",null,[t("tr",null,[rt,t("td",it,"NT$"+r(e.cart.total),1)])])]),t("div",ct,[dt,t("p",lt,"NT$"+r(e.cart.final_total),1)]),t("div",_t,[i(a,{to:"/products",class:"text-dark mt-5 h5"},{default:l(()=>[pt,_(" 繼續購物 ")]),_:1}),i(a,{to:"/order",class:"btn btn-dark btn-block mt-4 rounded-0 py-3"},{default:l(()=>[_("確認訂單 ")]),_:1})])])):(o(),n("div",ut,[mt,i(a,{class:"btn btn-dark mt-3 text-end",to:"/products"},{default:l(()=>[bt,_(" 選購去 ")]),_:1})]))]),(m=e.cart.carts)!=null&&m.length?j("",!0):(o(),n("div",ht,[i(w)]))],64)}const gt=y(H,[["render",ft]]),yt={data(){return{}},components:{CartList:gt}},vt={class:"container my-5"},xt={class:"row justify-content-center py-5"};function kt(e,d,v,x,k,C){const a=p("CartList");return o(),n("div",vt,[t("div",xt,[i(a)])])}const St=y(yt,[["render",kt]]);export{St as default};
