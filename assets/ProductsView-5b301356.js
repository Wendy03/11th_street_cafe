import{p as m,f as $}from"./productsStore-df902107.js";import{m as l,f as n,_ as u,o as e,c as r,a as s,F as k,s as v,u as P,n as C,t as i,R as S,r as p,b as d,w as y,x as V,e as x,d as F}from"./index-b0669d41.js";import{c as I}from"./cartStore-51eb9f73.js";import{s as w}from"./statusStore-afcfc93e.js";import"./Toast-9f0046b8.js";const N={data(){return{}},methods:{...l(m,["changeCategory"])},computed:{...n(m,["categories","filterCategory"])}},R={class:"col-lg-2 col-md-3 mb-2 my-5"},z={class:"list-group sticky-top top-15"},B=["onClick"];function T(o,c,g,h,f,b){return e(),r("div",R,[s("ul",z,[(e(!0),r(k,null,v(o.categories,a=>(e(),r("li",{class:P(["list-group-item",{active:a===o.filterCategory}]),style:{cursor:"pointer"},key:a,onClick:C(t=>o.changeCategory(a),["prevent"])},i(a),11,B))),128))])])}const U=u(N,[["render",T]]),A={data(){return{}},components:{RouterLink:S},methods:{...l(m,["getProducts"]),...l($,["getFollows","toggleFollow"]),...l(I,["addToCart"])},computed:{...n(m,["products","filterProducts"]),...n($,["followIds"]),...n(w,["isLoading","loadingItem","isProcessing"])},mounted(){this.getProducts()}},D={class:"col-lg-10 col-md-9 my-5"},E={class:"row"},M={class:"card border-0 shadow-sm h-100 card--hover"},O=["onClick"],j={key:0,class:"bi bi-heart text-danger shadow-sm p-1 bg-secondary"},q={key:1,class:"bi bi-heart-fill text-danger shadow-sm p-1 bg-secondary"},G={class:"card-body"},H={class:"badge bg-primary float-right ml-2 mb-2"},J={class:"card-title text-dark"},K={class:"card-text text-black"},Q={class:"text-end text-dark fs-5 pr-2"},W={class:"card-footer d-grid gap-2 border-top-0 px-0 py-0"},X=["disabled","onClick"],Y={key:0,class:"spinner-border spinner-border-sm",role:"status","aria-hidden":"true"};function Z(o,c,g,h,f,b){const a=p("RouterLink");return e(),r("div",D,[s("div",E,[(e(!0),r(k,null,v(o.filterProducts,t=>(e(),r("div",{class:"col-lg-4 col-md-6 mb-6",key:t.id},[s("div",M,[d(a,{to:`/product/${t.id}`},{default:y(()=>[s("div",{style:V([{height:"170px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${t.imageUrl})`}])},null,4)]),_:2},1032,["to"]),s("div",{class:"position-absolute heart-icon mt-1 ps-1",style:{cursor:"pointer"},onClick:C(_=>o.toggleFollow(t.id),["prevent"])},[o.followIds.indexOf(t.id)===-1?(e(),r("i",j)):(e(),r("i",q))],8,O),s("div",G,[d(a,{to:`/product/${t.id}`},{default:y(()=>[s("span",H,i(t.category),1),s("h5",J,i(t.title),1),s("p",K,i(t.description),1),s("div",Q,i(o.$filters.currency(t.price))+" 元 ",1)]),_:2},1032,["to"])]),s("div",W,[s("button",{type:"button",class:"btn btn-dark",disabled:o.isProcessing,onClick:_=>o.addToCart(t.id)},[t.id===o.loadingItem?(e(),r("span",Y)):x("",!0),F(" 加到購物車 ")],8,X)])])]))),128))])])}const tt=u(A,[["render",Z]]),ot={data(){return{}},components:{ProductCategory:U,ProductList:tt},computed:{...n(w,["isLoading"])}},st={class:"container my-9"},et={class:"row"};function rt(o,c,g,h,f,b){const a=p("VueLoading"),t=p("ProductCategory"),_=p("ProductList");return e(),r("div",st,[d(a,{active:o.isLoading,"onUpdate:active":c[0]||(c[0]=L=>o.isLoading=L)},null,8,["active"]),s("div",et,[d(t),d(_)])])}const lt=u(ot,[["render",rt]]);export{lt as default};
