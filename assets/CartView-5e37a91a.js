import{H as $}from"./HomeCategory-371cb31a.js";import{c as h}from"./cartStore-b3eb4093.js";import{s as L}from"./statusStore-08f0d806.js";import{R as N,m as j,e as f,_ as g,r as _,o,c as n,a as t,l as c,F as y,p as q,s as S,t as i,b as r,w as l,d as p,f as V}from"./index-f5198bfb.js";import"./productsStore-ea8c54a5.js";import"./Toast-0995bd9d.js";const A={data(){return{}},components:{RouterLink:N,HomeCategory:$},methods:{...j(h,["getCarts","updateCart","removeCartItem","deleteAllCarts"])},computed:{...f(h,["cart"]),...f(L,["isProcessing"])},mounted(){this.getCarts()}},H={class:"col-md-6"},R={key:0},T={class:"d-flex justify-content-between mb-5"},z=t("h2",{class:"mt-2 text-brown font-weight-bold"},"購物車",-1),B=t("i",{class:"bi bi-x-lg"},null,-1),I=[B],P={class:"w-100 p-3 position-relative"},E=["onClick"],F=t("i",{class:"bi bi-x-lg"},null,-1),D=[F],M={class:"mb-0 fw-bold"},U={class:"d-md-block d-none mb-1 text-muted",style:{"font-size":"14px"}},G={class:"d-flex flex-md-row flex-column justify-content-md-between align-items-md-center w-100"},J={class:"input-group align-items-center"},K={class:"input-group-prepend pe-1"},O=["onClick","disabled"],Q=t("i",{class:"bi bi-dash-lg"},null,-1),W=[Q],X=["value"],Y={class:"input-group-append ps-1"},Z=["onClick","disabled"],tt=t("i",{class:"bi bi-plus"},null,-1),st=[tt],et={class:"mb-0 text-end ms-md-6"},ot={class:"table mt-4 text-muted"},nt=t("th",{scope:"row",class:"border-0 px-0 pt-0 font-weight-normal"}," 小計 ",-1),at={class:"text-end border-0 px-0 pt-0"},it={class:"d-flex justify-content-between mt-4"},rt=t("p",{class:"mb-0 h4 fw-bold"},"總計",-1),ct={class:"mb-0 h4 fw-bold"},dt={class:"d-flex mt-4 justify-content-between align-items-md-center align-items-end w-100"},lt=t("i",{class:"bi bi-caret-left-fill"},null,-1),pt={key:1},_t=t("h2",{class:"mt-5 fs-2"},"購物車目前是空的，快來挑選商品吧！",-1),ut=t("i",{class:"bi bi-cart"},null,-1),mt={key:0,class:"mt-5"};function bt(e,d,v,C,w,x){var u,m;const a=_("RouterLink"),k=_("HomeCategory");return o(),n(y,null,[t("div",H,[(u=e.cart.carts)!=null&&u.length?(o(),n("div",R,[t("div",T,[z,t("a",{href:"#",class:"fs-3",onClick:d[0]||(d[0]=c((...s)=>e.deleteAllCarts&&e.deleteAllCarts(...s),["prevent"]))},I)]),(o(!0),n(y,null,q(e.cart.carts,s=>(o(),n("div",{key:s.id,class:"d-flex mt-4 bg-light"},[t("div",{style:S([{width:"130px","max-height":"130px","background-size":"cover","background-position":"center"},{backgroundImage:`url(${s.product.imageUrl})`}]),class:"rounded-0"},null,4),t("div",P,[t("a",{href:"#",onClick:c(b=>e.removeCartItem(s.id),["prevent"]),class:"position-absolute",style:{top:"16px",right:"16px"}},D,8,E),t("p",M,i(s.product.title),1),t("p",U,i(s.product.description),1),t("div",G,[t("div",J,[t("div",K,[t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:c(b=>e.updateCart(s,s.qty-1),["prevent"]),disabled:e.isProcessing||s.qty===1},W,8,O)]),t("input",{type:"text",class:"form-control form-control-sm border-0 text-center my-auto shadow-none bg-secondary px-0",placeholder:"","aria-label":"Example text with button addon","aria-describedby":"button-addon1",readonly:"",value:s.qty},null,8,X),t("div",Y,[t("button",{type:"button",class:"btn btn-primary btn-sm",onClick:c(b=>e.updateCart(s,s.qty+1),["prevent"]),disabled:e.isProcessing||s.qty===5},st,8,Z)])]),t("p",et,"NT$"+i(s.total),1)])])]))),128)),t("table",ot,[t("tbody",null,[t("tr",null,[nt,t("td",at,"NT$"+i(e.cart.total),1)])])]),t("div",it,[rt,t("p",ct,"NT$"+i(e.cart.final_total),1)]),t("div",dt,[r(a,{to:"/products",class:"text-dark mt-5 h5"},{default:l(()=>[lt,p(" 繼續購物 ")]),_:1}),r(a,{to:"/order",class:"btn btn-primary btn-block mt-4 rounded-0 py-3"},{default:l(()=>[p("確認訂單 ")]),_:1})])])):(o(),n("div",pt,[_t,r(a,{class:"btn btn-primary mt-3 text-end",to:"/products"},{default:l(()=>[ut,p(" 選購去 ")]),_:1})]))]),(m=e.cart.carts)!=null&&m.length?V("",!0):(o(),n("div",mt,[r(k)]))],64)}const ht=g(A,[["render",bt]]),ft={data(){return{}},components:{CartList:ht}},yt={class:"container my-5"},gt={class:"row justify-content-center py-5"};function vt(e,d,v,C,w,x){const a=_("CartList");return o(),n("div",yt,[t("div",gt,[r(a)])])}const Nt=g(ft,[["render",vt]]);export{Nt as default};
